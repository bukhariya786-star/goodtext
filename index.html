<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>BEC Admission Registration</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<style>
body{
    font-family:'Poppins',sans-serif;
    background:linear-gradient(135deg,#6a11cb,#2575fc);
    margin:0;
    padding:20px;
}
.container{
    max-width:900px;
    margin:auto;
    background:#fff;
    padding:25px;
    border-radius:14px;
    box-shadow:0 10px 25px rgba(0,0,0,.25);
}
h2{text-align:center;color:#4a3aff}

.form-grid{
    display:grid;
    grid-template-columns: 2fr 1fr;
    gap:20px;
}

.input-group{margin-bottom:14px}
label{font-weight:600;display:block;margin-bottom:6px}
input,select,textarea{
    width:100%;
    padding:10px;
    border-radius:8px;
    border:1px solid #ccc;
    font-size:14px;
}
input[readonly]{background:#f3f3f3;font-weight:600}

.photo-box{
    border:2px dashed #999;
    border-radius:10px;
    height:220px;
    display:flex;
    align-items:center;
    justify-content:center;
    flex-direction:column;
}
.photo-box img{
    width:150px;
    height:180px;
    object-fit:cover;
    display:none;
    border:2px solid #000;
}

.btn{
    width:100%;
    padding:12px;
    font-size:16px;
    font-weight:600;
    border:none;
    border-radius:8px;
    cursor:pointer;
    margin-top:10px;
}
.submit-btn{background:#4a3aff;color:#fff}
.print-btn{background:#2e7d32;color:#fff}
.pdf-btn{background:#d84315;color:#fff}

.signature-block{
    display:flex;
    justify-content:space-between;
    margin-top:45px;
}
.signature-block div{
    width:45%;
    text-align:center;
}
.signature-block .line{
    border-bottom:1px solid #000;
    margin-top:35px;
}

@media print{
    body{background:none}
    .btn{display:none}
}
</style>
</head>

<body>

<div class="container">
<h2>Admission Registration Form</h2>

<div class="form-grid">

<!-- LEFT -->
<div>
<div class="input-group">
<label>Admission No</label>
<input id="admissionNo" readonly>
</div>

<div class="input-group">
<label>Student Name</label>
<input id="name" required>
</div>

<div class="input-group">
<label>Phone</label>
<input id="phone" required>
</div>

<div class="input-group">
<label>Email</label>
<input id="email">
</div>

<div class="input-group">
<label>DOB</label>
<input type="date" id="dob">
</div>

<div class="input-group">
<label>Course</label>
<select id="course">
<option value="">Select</option>
<option>Computer Science</option>
<option>Business</option>
<option>Design</option>
<option>Engineering</option>
</select>
</div>

<div class="input-group">
<label>Address</label>
<textarea id="address"></textarea>
</div>
</div>

<!-- RIGHT PHOTO -->
<div>
<label>Student Photo</label>
<div class="photo-box">
<img id="photoPreview">
<p id="photoText">Upload Photo</p>
<input type="file" accept="image/*" onchange="previewPhoto(event)">
</div>
</div>

</div>

<div class="signature-block">
<div>
<p>Date</p>
<div class="line"></div>
</div>
<div>
<p>Principal Signature</p>
<div class="line"></div>
</div>
</div>

<button class="btn submit-btn" onclick="saveData()">Submit</button>
<button class="btn print-btn" onclick="window.print()">üñ®Ô∏è Print</button>
<button class="btn pdf-btn" onclick="downloadPDF()">üìÑ Download PDF</button>

</div>

<script>
/* ADMISSION NO START FROM 113 */
let lastNo = localStorage.getItem("becAdmissionNo");
if(!lastNo){ lastNo = 112 }
const newNo = parseInt(lastNo) + 1;
admissionNo.value = newNo;
localStorage.setItem("becAdmissionNo", newNo);

/* PHOTO PREVIEW */
function previewPhoto(e){
    const img = document.getElementById("photoPreview");
    img.src = URL.createObjectURL(e.target.files[0]);
    img.style.display = "block";
    photoText.style.display="none";
}

/* SUBMIT */
function saveData(){
    if(name.value=="" || phone.value==""){
        alert("Required fields missing");
        return;
    }
    alert("Admission Success\nAdmission No: "+admissionNo.value);
}

/* PDF */
function downloadPDF(){
    const {jsPDF}=window.jspdf;
    const doc=new jsPDF();
    doc.text("BEC Admission Form",20,20);
    doc.text("Admission No: "+admissionNo.value,20,30);
    doc.text("Name: "+name.value,20,40);
    doc.text("Phone: "+phone.value,20,50);
    doc.text("Course: "+course.value,20,60);
    doc.save("BEC_"+admissionNo.value+".pdf");
}
</script>

</body>
</html>
